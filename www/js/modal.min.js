!function(t){var n={title:"Are you sure?",message:"Do you want to continue?",type:"confirm",cancelText:"Cancel",confirmText:"Confirm",okayText:"OK",onCancel:void 0,onConfirm:void 0,onOkay:void 0};t.modalConfig=function(o){n=t.extend(n,o)},t.fn.modal=function(o){function e(n){n.fadeOut(250,function(){"function"==typeof c.onCancel&&c.onCancel(),t(this).remove()})}function i(n){t("body").append(n.css("visibility",0));var o=n.find(".modal-wrapper");n.find("button:first-child").focus(),o.css({top:(t(window).height()-o.height())/2+"px",left:(t(window).width()-o.width())/2+"px"}),t(window).on("resize",function(){o.css({top:(t(window).height()-o.height())/2+"px",left:(t(window).width()-o.width())/2+"px"})}),n.fadeIn(250,function(){t(document).on("keyup",function(t){27===t.keyCode&&e(n)})})}function a(n,o){t.each(n,function(t,n){o=o.replace(new RegExp("{"+t+"}","g"),n)});var i=t(o),a=i.find(".modal-footer");return i.find(".modal-close").on("click",function(t){t.preventDefault(),"function"==typeof c.onCancel&&c.onCancel(),e(i)}),"confirm"===c.type?(t('<button class="modal-confirm">').text(c.confirmText).appendTo(a).on("click",function(t){t.preventDefault(),"function"==typeof c.onConfirm&&c.onConfirm(),e(i)}),t('<button class="modal-cancel">').text(c.cancelText).appendTo(a).on("click",function(t){t.preventDefault(),e(i)})):"alert"===c.type?t('<button class="modal-okay">').text(c.okayText).appendTo(a).on("click",function(t){t.preventDefault(),"function"==typeof c.onOkay&&c.onOkay(),e(i)}):"window"===c.type&&d.attr("href")&&t.get(d.attr("href"),function(n){var o=i.find(".modal-content");o.html(n);var a=i.find(".modal-wrapper");a.css({top:(t(window).height()-a.height())/2+"px",left:(t(window).width()-a.width())/2+"px"}),o.find("input[type=submit]").addClass("btn btn-success"),o.find("form").on("submit",function(n){n.preventDefault();var o=t(this);t.ajax(t(this).attr("action"),{type:o.attr("method"),data:o.serialize(),success:e(i)})})}),i}var c=t.extend(n,o),d=t(this);return t(this).each(function(){t(this).on("click",function(n){n.preventDefault(),void 0!==t(this).data("modal")&&(c.type=t(this).data("modal"));var o=t(this).data("title");void 0!==o&&o.length&&(c.title=o);var e=t(this).data("message");if(void 0!==e&&e.length&&(c.message=e),"function"!=typeof c.onConfirm){var d=t(this).attr("href");void 0!==d&&d.length&&(c.onConfirm=function(){window.location.href=d})}i(a({title:c.title,message:c.message},'<div class="modal-overlay"><div class="modal-wrapper"><div class="modal-header">{title}<button class="modal-close"></button></div><div class="modal-content">{message}</div><div class="modal-footer"></div></div>'))})}),this}}(jQuery),$(document).ready(function(){$("[data-modal]").modal()});